<form id="member-form"
      hx-post="/htmx/members/"
      hx-target="#member-form-container"
      hx-swap="outerHTML"
      class="space-y-8">
  <input type="hidden" name="id" value="{{ member.id if member else '' }}">

  <!-- ðŸŸ¦ Basis-Infos -->
  <div class="bg-white shadow rounded-lg p-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-4">Basisinformationen</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Vorname</label>
        <input type="text" name="firstname" value="{{ member.firstname if member else '' }}"
               required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Nachname</label>
        <input type="text" name="lastname" value="{{ member.lastname if member else '' }}"
               required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Geschlecht</label>
        <select name="gender"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
          <option value="m" {% if member and member.gender == 'm' %}selected{% endif %}>MÃ¤nnlich</option>
          <option value="w" {% if member and member.gender == 'w' %}selected{% endif %}>Weiblich</option>
          <option value="d" {% if member and member.gender == 'd' %}selected{% endif %}>Divers</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Geburtsdatum</label>
        <input type="date" name="birthdate" value="{{ member.birthdate if member and member.birthdate else '' }}"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
      </div>
    </div>
  </div>

  <!-- ðŸŸ© Kontakt -->
  <div class="bg-white shadow rounded-lg p-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-4">Kontaktdaten</h3>
    <div>
      <label class="block text-sm font-medium text-gray-700">E-Mail</label>
      <input type="email" name="email" value="{{ member.email if member else '' }}"
             required
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
    </div>
  </div>

  <!-- ðŸŸ¨ Mitgliedschaft -->
  <div class="bg-white shadow rounded-lg p-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-4">Mitgliedschaft</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700">Eintrittsdatum</label>
        <input type="date" name="member_since"
               value="{{ member.member_since if member and member.member_since else '' }}"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Gruppe</label>
        <div>
          <label class="block text-sm font-medium text-gray-700">Gruppe</label>
          <select name="group_id"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            {% for g in GROUPS %}
              <option value="{{ g.id }}"
                {% if member and member.group_id == g.id %}
                  selected
                {% elif not member and g.is_default %}
                  selected
                {% endif %}>
                {{ g.name }}{% if g.is_default %} (Standard){% endif %}
              </option>
            {% endfor %}
          </select>
        </div>
      </div>
    </div>
  </div>

  <!-- ðŸŸ¥ Aktionen -->
  <div class="flex justify-end gap-3">
    <a href="/members"
       class="px-5 py-2 rounded-md bg-gray-500 text-white text-sm font-medium hover:bg-gray-600">
      ZurÃ¼ck
    </a>
    <button type="submit"
            class="px-5 py-2 rounded-md bg-blue-600 text-white text-sm font-medium hover:bg-blue-700">
      ðŸ’¾ Speichern
    </button>
  </div>
</form>
